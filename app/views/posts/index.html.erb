<% if @post.errors.any? %>
        <%= @post.errors.count %>件のエラーが発生しました。
        <% @post.errors.full_messages.each do |message| %>
            <%= message %>
        <% end %>
    <% end %>

<div class="container">
    <div class="row">
        <div class="col-md-4 left-content">

<% @posts.each do |post| %>
<div class="card">

    <div class="card-header">
	<%= link_to user_path(post.user) do %>
	<%= attachment_image_tag(post.user, :profile_image, format: 'jpeg', fallback: "サラリーマン.jpeg", size:"50x50") %>
	<% end %>
	<%= post.user.name %>
</div>
<div class="card-body">
    <h4 class="card-title">
	<%= link_to post.title, post_path(post.id) %>
</h4>
<p class="card-text">
	<%= post.body %>
</p>
</div>
 <div class="card-img-bottom">
	<%= attachment_image_tag post, :image, :fill, 100, 100, format: 'jpeg' %>
</div>
	<% if post.favorited_by?(current_user) %>
    	<%= link_to post_favorites_path(post), method: :delete do %>
    	<i class="fas fa-heart"></i>
      	<% end %>
    <% else %>
        <%= link_to post_favorites_path(post), method: :post do %>
        <i class="far fa-heart"></i>
       	<% end %>
    <% end %>
    <%= post.favorites.count %>

	<%= link_to "#{post.post_comments.count} コメント", post_path(post.id) %>
<% end %>
<%= paginate @posts %>
</div>
</div>
</div>
</div>
</div>